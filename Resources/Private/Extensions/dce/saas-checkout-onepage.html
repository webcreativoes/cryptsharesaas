
{namespace s=SJBR\StaticInfoTables\ViewHelpers}

<f:spaceless>
    <f:if condition="{field.step} == 'step_enteruserdata'">
        <f:then>
            <div class="card new-user-contract w-100 float-none contract-data d-none" id="user-contract-card">
                <div class="card-header">
                    <span class="my-0" data-localize="checkout-userdata-entercontractdata">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_userdata_entercontractdata" />
                    </span>
                </div>
                <div class="card-body">
                    <div id="contract-data-fields">
                        <form id="contractItem">
                            <div class="contract-item">
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_company')} *" type="text" name="cs_company" id="cs_company" class="form-control cs_company" value="" required />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_street')} *" type="text" name="cs_street" id="cs_street" class="form-control cs_street" value="" required />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_house_number')} *" type="text" name="cs_housenumber" id="cs_housenumber" class="form-control cs_housenumber" value="" required />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_zip')} *" type="text" name="cs_zip" id="cs_zip" class="form-control cs_zip" value="" required />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_city')} *" type="text" name="cs_city" id="cs_city" class="form-control cs_city" value="" required />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <s:form.select class="form-control cs_country" name="cs_country" id="cs_country" staticInfoTable="country" options="{}" optionLabelField="shortNameLocal" optionValueField="isoCodeA3" defaultOptionLabel="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_please_choose_country')}" defaultOptionValue="0"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_phone')} *" type="text" name="cs_phone" id="cs_phone" class="form-control cs_phone" value="">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_vat')}" type="text" name="cs_vat" id="cs_vat" class="form-control cs_vat" value="">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="addcontractbtn" class="">
                        <div class="pull-right">
							<span id="addcontractbutton">
								<a class="plusIcon btn btn-md btn-primary" href="javascript:void(0)" rel="0" title="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_add_contract')}"><i class="fa fa-plus" aria-hidden="true"></i> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_add_contract" /></a>
							</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card new-user-account w-100 float-none user-data" id="user-data-card">
                <input type="hidden" id="cs_email_collective_status" value="0">
                <div class="card-header">
                    <span class="my-0" data-localize="checkout-userdata-enter">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_userdata_enteruserdata" />
                    </span>
                </div>
                <div class="card-body">
                    <div class="alert alert-info" role="alert">
						<f:format.htmlentitiesDecode><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_userdata_hintandlimit" /></f:format.htmlentitiesDecode>
						<div id="triallimitalert" class="mt-3 d-none">
							<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_reached_triallimit" />
						</div>
                    </div>
                    <div id="user-data-fields">
                        <div id="emailItem" class="email-item">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <f:security.ifHasRole role="14">
                                        <f:then>
                                            <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_first_name')} *" type="text" name="cs_first_name" id="cs_first_name" class="form-control cs_first_name" value="{TSFE.fe_user.user.first_name}">
                                        </f:then>
                                        <f:else>
                                            <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_first_name')} *" type="text" name="cs_first_name" id="cs_first_name" class="form-control cs_first_name" value="">
                                        </f:else>
                                    </f:security.ifHasRole>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <f:security.ifHasRole role="14">
                                        <f:then>
                                            <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_last_name')} *" type="text" name="cs_last_name" id="cs_last_name" class="form-control cs_last_name" value="{TSFE.fe_user.user.last_name}">
                                        </f:then>
                                        <f:else>
                                            <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_last_name')} *" type="text" name="cs_last_name" id="cs_last_name" class="form-control cs_last_name" value="">
                                        </f:else>
                                    </f:security.ifHasRole>
                                </div>
                            </div>
                            <div class="mb-3">
                                <f:security.ifHasRole role="14">
                                    <f:then>
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_email')} *" type="text" name="cs_email" id="cs_email" class="form-control cs_email" value="{TSFE.fe_user.user.email}">
                                    </f:then>
                                    <f:else>
                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_email')} *" type="text" name="cs_email" id="cs_email" class="form-control cs_email" value="">
                                    </f:else>
                                </f:security.ifHasRole>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 d-none" id="collectiveMailboxContainer">
                        <div class="mb-3 d-none" id="CollectiveMailboxHint">
                            <f:format.raw><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_hint_collective_mailboxes" /></f:format.raw>
                        </div>
                        <div class="form-check d-none" id="CollectiveMailboxCheckbox">
                            <input type="checkbox" class="form-check-input" id="collective_mailboxes_acknowledged" name="collective_mailboxes_acknowledged" value="accepted" title="">
                            <label for="collective_mailboxes_acknowledged" class="form-check-label"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_accept_collective_mailboxes" /> *</label>
                        </div>
                    </div>
					<div id="adduserbtn" class="">
						<div class="pull-right">
							<span id="addbtn">
								<a class="plusIcon btn btn-md btn-primary" href="javascript:void(0)" rel="0" title="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_add_email')}"><i class="fa fa-plus" aria-hidden="true"></i> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_add_email" /></a>
							</span>
							<input type="hidden" id="contractId" value="" />
							<input type="hidden" id="contractDetails" value="" />
							<input type="hidden" id="orderedEmails" value="" />
							<input type="hidden" id="currentEmail" value="" />
							<input type="hidden" id="availableEmails" value="" />
                            <input type="hidden" id="trialEndDate" value="" />
						</div>
					</div>
					<div id="triallimit" class="d-none pull-right">
						<button id="btnEndTrial" class="btn btn-md btn-primary add-account"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;			<f:format.raw><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_button_endtrial" /></f:format.raw></button>
					</div>
                </div>
                <div id="orderlimit" class="card-footer bg-warning d-none text">
                    <div class="mb-3 pull-right">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_reached_userlimit" />
                    </div>
                </div>
                <div id="idDynModal"></div>
            </div>
			<div class="card w-100 float-none paymenthint d-none">
				<div class="card-header"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_provider_head" /></div>
				<div class="card-body">
					<p class="card-text">
						<f:format.htmlentitiesDecode><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_provider_text_p1" /></f:format.htmlentitiesDecode>
						<f:link.typolink parameter="1415" target="_blank" class=""><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_provider_linktext" /></f:link.typolink>
						<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_provider_text_p2" />
					</p>
				</div>
			</div>
        </f:then>
    </f:if>
    <f:if condition="{field.step} == 'step_enterbillingdataaggreement'">
        <f:then>
            <div class="card new-user-account w-100 float-none billing-data d-none">
                <div class="card-header">
                    <f:link.typolink parameter="1398" target="_blank" class="pull-right btn btn-sm EditData">
                        <i class="fa fa-edit" aria-hidden="true"></i>&nbsp;
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_edit_data" />
                    </f:link.typolink>
                    <h4 class="my-0">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_billing_data" />
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <input type="text" id="first_name" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_first_name')} *" value="{TSFE.fe_user.user.first_name}" class="form-control" disabled="disabled" />
                        </div>
                        <div class="col-md-6 mb-3">
                            <input type="text" id="last_name" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_last_name')} *" value="{TSFE.fe_user.user.last_name}" class="form-control" disabled="disabled" />
                        </div>
                    </div>
                    <div class="mb-3">
                        <input type="text" id="email" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_email')} *" value="{TSFE.fe_user.user.email}" class="form-control" disabled="disabled" />
                    </div>
                    <div class="mb-3">
                        <input type="text" id="phone" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_phone')} *" value="{TSFE.fe_user.user.telephone}" class="form-control" disabled="disabled" />
                    </div>
                    <div class="mb-3">
                        <input type="text" id="company" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_company')} *" value="{TSFE.fe_user.user.company}" class="form-control" disabled="disabled" />
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <input type="text" id="address" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_address')} *" value="{TSFE.fe_user.user.address}" class="form-control" disabled="disabled" />
                        </div>
                        <div class="col-md-6 mb-3">
                            <input type="text" id="house_no" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_house_number')} *" value="{TSFE.fe_user.user.house_no}" class="form-control" disabled="disabled" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <input type="text" id="zip" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_zip')} *" value="{TSFE.fe_user.user.zip}" class="form-control" disabled="disabled" />
                        </div>
                        <div class="col-md-6 mb-3">
                            <input type="text" id="city" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_city')} *" value="{TSFE.fe_user.user.city}" class="form-control" disabled="disabled" />
                        </div>
                    </div>
                    <div class="mb-3">
                        <select size="1" id="country" name="FE[fe_users][static_info_country]" class="form-control" disabled="disabled">
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == DEU">
                                <f:then>
                                    <option value="DE"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_deu" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == GBR">
                                <f:then>
                                    <option value="GB"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_gbr" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == NLD">
                                <f:then>
                                    <option value="NL"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_nld" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == AUT">
                                <f:then>
                                    <option value="AT"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_aut" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == FRA">
                                <f:then>
                                    <option value="FR"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_fra" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == BEL">
                                <f:then>
                                    <option value="BE"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_bel" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == IRL">
                                <f:then>
                                    <option value="IE"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_irl" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == ESP">
                                <f:then>
                                    <option value="ES"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_esp" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == ITA">
                                <f:then>
                                    <option value="IT"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_ita" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == LUX">
                                <f:then>
                                    <option value="LU"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_lux" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == PRT">
                                <f:then>
                                    <option value="PT"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_prt" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == CHE">
                                <f:then>
                                    <option value="CH"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_che" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == FIN">
                                <f:then>
                                    <option value="FI"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_fin" /></option>
                                </f:then>
                            </f:if>
                            <f:if condition="{TSFE.fe_user.user.static_info_country} == GRC">
                                <f:then>
                                    <option value="GR"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country_grc" /></option>
                                </f:then>
                            </f:if>
                        </select>
                        <input type="text" id="countryiso3" required placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_country')} *" value="{TSFE.fe_user.user.static_info_country}" class="form-control" disabled="disabled" />
                    </div>
                    <div class="mb-3">
                        <f:if condition="{TSFE.fe_user.user.vat}">
                            <f:then>
                                <input type="text" id="vat" placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_vat')}" value="{TSFE.fe_user.user.vat}" class="form-control" disabled="disabled" />
                            </f:then>
                        </f:if>
                    </div>
                </div>
            </div>
            <div class="card new-user-account w-100 float-none summary d-none shadow-sm active">
                <div class="card-header">
					<span data-summary="variantname"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>
                </div>
                <div class="card-body">
					<p><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_addedusers" /></p>
					<ul id="emailList" class="list-group list-group-striped"></ul>
					<table class="table" aria-describedby="Summary table">
                        <tr class="d-none">
                            <td>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_cancellationperiod" />
                            </td>
                            <td class="text-right" colspan="2"><span id="SummaryCancelationPeriod"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></td>
                        </tr>
                        <tr>
                            <td>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_price_netto" />
                            </td>
                            <td class="text-right"></td>
                            <td class="text-right"><span data-summary="quantity"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span> x <span data-summary="singleprice"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></td>
                        </tr>
                        <tr id="discount" class="d-none text-success">
                            <td>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_discount" />
                            </td>
                            <td class="text-right" colspan="2"><span data-summary="quantity"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span> x <span data-summary="discount"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></td>
                        </tr>
                        <tr id="subtotal">
                            <td>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_subtotal_netto" />
                            </td>
							<td class="text-right" colspan="2"> <span data-summary="totalnetto"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></td>
                        </tr>
                        <tr>
                            <td>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_vat" />&nbsp;<span data-summary="vatpercentage"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>%&nbsp;
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_vat2" />
                            </td>
                            <td class="text-right" colspan="2"><span data-summary="totalvat"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></td>
                        </tr>
                        <tr style="border-top: 3px solid">
                            <th scope="col">
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_summary_total" />
                            </th>
                            <th scope="col" class="text-right" colspan="2"><span data-summary="totalbrutto"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></th>
                        </tr>
                        <tr id="trial-firstline" class="d-none2">
                            <td class="text-success">
								<f:format.html><span data-summary="trialuntil"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:summary_trial_until" /></span>
                            </td>
                            <td class="text-right text-success" colspan="2">&nbsp;<span data-summary="totalbruttotrial">0,00</span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></f:format.html></td>
                        </tr>
                        <tr id="trial-secondline" class="d-none">
                            <td><f:format.html><span data-summary="abostart" class="pull-left"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:summary_abo_start" /></span></td>
                            <td class="text-right" colspan="2"><span data-summary="totalbrutto"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span>&nbsp;<span data-summary="currency"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" /></span></f:format.html></td>
                        </tr>
                    </table>
					<div class="mb-3">
						<div id="trial-hint" class="d-none alert alert-info">
							<f:format.raw><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:summary_trial_hint" /></f:format.raw>
						</div>
					</div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="gtac" name="gtac" title="" value="accepted" required="required">
                            <label for="gtac" class="form-check-label"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_accept_gtac" /> *</label>
                        </div>
                        <p>
                            <f:link.typolink parameter="1404#gtac" target="_blank" class="">
                                <i class="fa fa-shield" aria-hidden="true"></i>&nbsp;
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_read_gtac" />
                            </f:link.typolink>
                        </p>
						<div class="pull-left">
							<small><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_mandatory" /></small>
						</div>
                    </div>
                </div>
                <div class="card-footer clearfix text-center">
                    <button name="signup" type="submit" class="btn btn-md btn-primary btn-block" id="buy">
                        <magic data-localize="checkout-submit-order"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_order_now" /></magic>
                        <span><magic data-localize="checkout-submit-order2"><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_pay_next" /></magic></span>
                    </button>
				</div>
            </div>
        </f:then>
    </f:if>
    <f:security.ifHasRole role="ATEA">
        <f:then><!-- Nothing to do with ATEA --></f:then>
        <f:else>
            <f:if condition="{field.step} == 'step_selectpaymentmethod'">
                <f:then>
                    <div class="row" id="payment-row">
                        <div class="col-sm-6 col-xl-6">
                            <div class="card-deck mb-3 text-center" id="selector-payment">
                                <div class="card mb-3 payment-methods">
                                    <div class="card-header">
                                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_header" />
                                    </div>
                                    <div class="card-body">
                                        <div id="payment-table" class="row">
                                            <div class="col">
                                                <div class="">
                                                    <div class="row">
                                                        <div class="col" id="selector-credit">
                                                            <label class="btn btn-payment active col" data-payment-method="credit" for="payment-1">
                                                                <input type="radio" name="paymentMethod" value="credit" id="payment-1" data-id="1" checked autocomplete="off">
                                                                <p><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_creditheader" /></p>
                                                                <img class="img-fluid" src="/typo3conf/ext/cryptsharesaas/Resources/Public/Icons/payment/visa-mastercard.png?v=1" alt="Visa MasterCard">
                                                            </label>
                                                        </div>
                                                        <div class="col" id="selector-debit">
                                                            <label class="btn btn-payment col" data-payment-method="debit" for="payment-2">
                                                                <input type="radio" name="paymentMethod" value="debit" id="payment-2" data-id="2" autocomplete="off">
                                                                <p><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_debitheader" /></p>
                                                                <f:if condition="{TSFE.fe_user.user.language} == DE">
                                                                    <f:then>
                                                                        <img class="img-fluid" src="/typo3conf/ext/cryptsharesaas/Resources/Public/Icons/payment/SEPA_de.svg" alt="SEPA">
                                                                    </f:then>
                                                                    <f:else>
                                                                        <img class="img-fluid" src="/typo3conf/ext/cryptsharesaas/Resources/Public/Icons/payment/SEPA_en.svg" alt="SEPA">
                                                                    </f:else>
                                                                </f:if>
                                                            </label>
                                                        </div>
                                                        <div class="col" id="selector-iDEAL">
                                                            <label class="btn btn-payment col" data-payment-method="iDEAL" for="payment-3">
                                                                <input type="radio" name="paymentMethod" value="iDEAL" id="payment-3" data-id="3" autocomplete="off">
                                                                <p><f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_idealheader" /></p>
                                                                <img class="img-fluid" src="/typo3conf/ext/cryptsharesaas/Resources/Public/Icons/payment/iDEAL.svg" alt="iDEAL">
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-xl-6">
                            <div class="card-deck mb-3">
                                <div class="card payment-method smart-text credit-smart-text">
                                    <div class="card-header">
                                        <h4>
                                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_3dsinfoheader" />
                                        </h4>
                                    </div>
                                    <div class="card-body">
                                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_credit" />
                                    </div>
                                </div>
								<div class="card payment-method smart-text debit-smart-text d-none">
									<div class="card-header">
										<h4>
											<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_debitinfoheader" />
										</h4>
									</div>
									<div class="card-body">
										<f:format.raw>
											<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_debit" />
										</f:format.raw>
									</div>
								</div>
								<div class="card payment-method smart-text iDEAL-smart-text d-none">
									<div class="card-header">
										<h4>
											<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_idealinfoheader" />
										</h4>
									</div>
									<div class="card-body">
										<f:format.raw>
											<f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:payment_method_ideal" />
										</f:format.raw>
									</div>
								</div>
                            </div>
                        </div>
                    </div>
                </f:then>
            </f:if>
        </f:else>
    </f:security.ifHasRole>
    <f:if condition="{field.step} == 'step_payment'">
        <f:then>
            <div class="card new-user-account payment w-100 d-none">
                <div class="card-header">
                    <button type="submit" class="btn btn-md btn-primary pull-right d-none d-sm-block" name="submit" id="pay1" value="Save"><i class="fa fa-check" aria-hidden="true"></i> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_pay_now" /> </button>
                    <h4 class="my-0">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_enter_paymentdetails" />
                    </h4>
                </div>
                <div class="card-body">
                    <div id="payment">
                    </div>
                </div>
                <div class="card-footer clearfix">
                    <button type="submit" class="btn btn-md btn-primary pull-right" name="submit" id="pay2" value="Save"><i class="fa fa-check" aria-hidden="true"></i> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_pay_now" /> </button>
                </div>
            </div>
        </f:then>
    </f:if>
    <f:if condition="{field.step} == 'step_finalizing'">
        <f:then>
            <div class="card new-user-account final-order-steps w-100 d-none">
                <input type="hidden" id="targeturl" value="{f:uri.typolink(parameter:'{field.targeturl}')}">
                <div class="card-header">
                    <h4 class="my-0">
                        <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_final_steps_headline" />
                    </h4>
                </div>
                <div class="card-body">
                    <ul>
                        <li class="payment_success d-none">
                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_final_steps_payment" /> </li>
                        <li class="set_contracts_csuserdata d-none">
                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_final_steps_userdata" />
                        </li>
                        <li class="add_email_on_csserver d-none">
                            <f:format.raw>
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_final_steps_createoncsserver" />
                            </f:format.raw>
                        </li>
                    </ul>
                </div>
                <div class="card-footer clearfix">
                </div>
            </div>
        </f:then>
    </f:if>
    <f:security.ifHasRole role="15">
        <f:then><!-- Nothing to do here --></f:then>
        <f:else>
            <f:security.ifHasRole role="17">
                <f:then><!-- Nothing to do here --></f:then>
                <f:else>
                    <f:if condition="{field.step} == 'step_entercoupon'">
                        <f:then>
                            <f:if condition="{TSFE.fe_user.user.autofill_partner_voucher}">
                                <f:then>
                                    <div class="card-deck mb-3 text-center coupon-code d-none">
                                        <div class="card enter-coupon">
                                            <div class="card-header">
                                                <h4 class="my-0">
                                                    <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_headline" />
                                                </h4>
                                            </div>
                                            <div class="card-body">
                                                <div class="mb-3">
                                                    <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="{TSFE.fe_user.user.autofill_partner_voucher}">
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <button type="button" class="btn btn-md btn-secondary" name="apply" id="applyvoucher" value="Apply"><i class="fa fa-check d-none" aria-hidden="true"></i><magick> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_apply" /></magick> </button>
                                            </div>
                                        </div>
                                    </div>
                                </f:then>
                                <f:else>
                                    <f:if condition="{TSFE.fe_user.user.static_info_country} != GBR">
                                        <f:then>
                                            <div class="card-deck mb-3 text-center coupon-code d-none">
                                                <div class="card enter-coupon">
                                                    <div class="card-header">
                                                        <h4 class="my-0">
                                                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_headline" />
                                                        </h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="mb-3">
                                                            <div class="mb-3">
                                                                <f:if condition="{TSFE.fe_user.user.crdate} < 1614553200">
                                                                    <f:then>
                                                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="SVPR{TSFE.fe_user.user.bw_customer_id -> f:format.case(mode: 'upper')}">
                                                                        <f:comment>
                                                                            <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="">
                                                                        </f:comment>
                                                                    </f:then>
                                                                    <f:else>
                                                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="">
                                                                    </f:else>
                                                                </f:if>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-footer">
                                                        <button type="button" class="btn btn-md btn-secondary" name="apply" id="applyvoucher" value="Apply"><i class="fa fa-check d-none" aria-hidden="true"></i><magick> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_apply" /></magick> </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </f:then>
                                        <f:else>
                                            <div class="card-deck mb-3 text-center coupon-code d-none">
                                                <div class="card enter-coupon d-none">
                                                    <div class="card-header">
                                                        <h4 class="my-0">
                                                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_headline" />
                                                        </h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="mb-3">
                                                            <f:if condition="{TSFE.fe_user.user.crdate} < 1614553200">
                                                                <f:then>
                                                                    <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="SVPR{TSFE.fe_user.user.bw_customer_id -> f:format.case(mode: 'upper')}">
                                                                    <f:comment>
                                                                        <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="">
                                                                    </f:comment>
                                                                </f:then>
                                                                <f:else>
                                                                    <input placeholder="{f:translate(key:'LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_enter')}" type="text" name="couponcode" id="couponcode" class="form-control" value="">
                                                                </f:else>
                                                            </f:if>
                                                        </div>
                                                    </div>
                                                    <div class="card-footer">
                                                        <button type="button" class="btn btn-md btn-secondary" name="apply" id="applyvoucher" value="Apply"><i class="fa fa-check d-none" aria-hidden="true"></i><magick> <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_coupon_apply" /></magick> </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </f:else>
                                    </f:if>
                                </f:else>
                            </f:if>
                        </f:then>
                    </f:if>
                </f:else>
            </f:security.ifHasRole>
        </f:else>
    </f:security.ifHasRole>
    <f:if condition="{field.step} == 'step_redirect'">
        <f:then>
            <input type="hidden" id="targeturlifusersexceed" value="{f:uri.typolink(parameter:'{field.targeturl}')}">
        </f:then>
    </f:if>
    <f:if condition="{field.step} == 'step_vathint'">
        <f:then>
            <f:if condition="{TSFE.fe_user.user.static_info_country} == DEU">
                <f:then><!-- Nothing to do with Germans --></f:then>
                <f:else>
                    <f:if condition="{TSFE.fe_user.user.vat}">
                        <f:then><!-- nothing to do, since VAT ID is available --></f:then>
                        <f:else>
                            <div class="card w-100 float-none">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-1 col-sm-2 col-xs-3">
                                            <div class="text-left">
                                                <i class="fa fa-info-circle fa-4x" aria-hidden="true"></i>
                                            </div>
                                        </div>
                                        <div class="col-md-11 cold-sm-10 col-xs-9">
                                            <h3>
                                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_vathint_headline" />
                                            </h3>
                                            <f:format.raw>
                                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_vathint_p1" />
                                            </f:format.raw>
                                            <f:link.typolink parameter="{field.targeturl}">
                                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_vathint_link" />
                                            </f:link.typolink>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </f:else>
                    </f:if>
                </f:else>
            </f:if>
        </f:then>
    </f:if>
</f:spaceless>
