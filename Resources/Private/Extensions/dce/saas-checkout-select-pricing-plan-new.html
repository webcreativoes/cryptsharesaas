<f:section name="main">
    <div class="{TSFE.fe_user.user.static_info_country} card-deck mb-3 text-center plan-variant" 
         {f:render(section: 'countryEnvironment', arguments: '{TSFE: TSFE, field: field}')} 
         {f:render(section: 'componentEnvironment', arguments: '{TSFE: TSFE, field: field}')}>
        <div class="card mb-6 shadow-sm {f:if(condition: field.checked, then: 'active')}">
            <div class="card-header">
                <h4 class="my-0 PlanVariantTitle">{field.title}</h4>
            </div>
            <div class="card-body">
                <f:if condition="{field.isAteaPlan} == '1'">
                    <f:then>
                        <img class="img-thumbnail" src="/typo3conf/ext/cryptsharesaas/Resources/Public/Images/ATEA.png" alt="ATEA">
                    </f:then>
                    <f:else>
                        <h1 class="card-title pricing-card-title">
                            <span class="PlanVariantPrice">
                                <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" />
                            </span>
                            <f:render section="countryCurrency" arguments="{TSFE: TSFE, field: field}" /> 
                            <small class="text-muted">/ 
                                <span class="PlanVariantIntervall">
                                    <f:translate key="LLL:fileadmin/primary/Private/language/locallang.xlf:loading" />
                                </span>
                            </small>
                        </h1>
                        <p><small>
                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:checkout_exclvat" />
                        </small></p>

                        <f:if condition="{field.showDescription} == '1'">
                            <ul class="list-unstyled mt-3 mb-4 PlanVariantDescription">
                                <li class="loading">
                                    <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" />
                                </li>
                            </ul>
                        </f:if>

                        <p class="trial-text d-none"><strong>
                            <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:component_trial" />
                        </strong></p>

                        <f:if condition="{field.showAnnualPrice} == '1'">
                            <p>
                                <span class="PlanVariantAnnualPrice">
                                    <f:translate key="LLL:EXT:cryptsharesaas/Resources/Private/Language/locallang.xlf:loading" />
                                </span>
                                <f:render section="countryCurrency" arguments="{TSFE: TSFE, field: field}" /> 
                                <span class="PlanVariantAnnualDescription">
                                    <f:translate key="LLL:EXT:cryptsharesaas/Resources/Language/locallang.xlf:loading" />
                                </span>
                            </p>
                        </f:if>
                    </f:else>
                </f:if>
            </div>

            <div class="card-footer">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input pricing" id="planvariantid-{field.bwPlanvariantId}" 
                           name="planvariant" value="{field.bwPlanvariantId}" {f:if(condition: field.checked, then: 'checked="checked"')} />
                    <input type="hidden" name="componentId" id="component-{field.bwPlanvariantId}" value="{field.bwComponentId}" />
                    <label for="planvariantid-{field.bwPlanvariantId}" class="custom-control-label"></label>
                </div>
            </div>
        </div>
    </div>
</f:section>

<f:section name="countryEnvironment">
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'NLD'">
        <f:then>data-plan-variant-id="{field.nLbwPlanvariantId}"</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'GBR'">
        <f:then>data-plan-variant-id="{field.gBbwPlanvariantId}"</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} != 'NLD' && TSFE.fe_user.user.static_info_country != 'GBR'">
        <f:then>data-plan-variant-id="{field.bwPlanvariantId}"</f:then>
    </f:if>
</f:section>

<f:section name="componentEnvironment">
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'NLD'">
        <f:then>data-component-id="{field.nLbwComponentId}"</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'GBR'">
        <f:then>data-component-id="{field.gBbwComponentId}"</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} != 'NLD' && TSFE.fe_user.user.static_info_country != 'GBR'">
        <f:then>data-component-id="{field.bwComponentId}"</f:then>
    </f:if>
</f:section>

<f:section name="countryCurrency">
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'GBR'">
        <f:then>GBP</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'USA'">
        <f:then>USD</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} == 'CHE'">
        <f:then>CHF</f:then>
    </f:if>
    <f:if condition="{TSFE.fe_user.user.static_info_country} != 'GBR' && TSFE.fe_user.user.static_info_country != 'USA' && TSFE.fe_user.user.static_info_country != 'CHE'">
        <f:then>EUR</f:then>
    </f:if>
</f:section>
